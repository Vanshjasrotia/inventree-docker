import{ag as k,r as s,ab as e,j as t,bc as p,ao as i,aO as n,an as w,b9 as x}from"./index-DO3Hsv6V.js";import{c as A,j as F,m as T}from"./Filter-BvEUIFlz.js";import{u as j,R as g,I as M}from"./InvenTreeTable-C52lfANx.js";import{c as m}from"./CompanyForms-DsVXw3Bg.js";import{D as S,B as v,C as D}from"./ColumnRenderers-B590lN_v.js";import{a as G}from"./ThemeContext-CGjWYKat.js";function $({params:r,path:u}){const l=j("company"),b=G(),o=k(),_=s.useMemo(()=>[{accessor:"name",title:e._({id:"7i8j3G"}),sortable:!0,switchable:!1,render:a=>t.jsx(D,{company:a})},S({}),v({accessor:"active",title:e._({id:"F6pfE9"}),sortable:!0,switchable:!0}),{accessor:"website",sortable:!1}],[]),c=A({url:i.company_list,title:e._({id:"5blzdE"}),fields:m(),initialData:r,follow:!0,modelType:p.company}),[y,C]=s.useState(0),d=F({url:i.company_list,pk:y,title:e._({id:"HoG6cl"}),fields:m(),onFormSuccess:a=>l.updateRecord(a)}),f=s.useMemo(()=>[{name:"active",label:e._({id:"F6pfE9"}),description:e._({id:"KbHNaM"})},{name:"is_supplier",label:e._({id:"PYTEl0"}),description:e._({id:"ZFG/Lo"})},{name:"is_manufacturer",label:e._({id:"+m9/3S"}),description:e._({id:"G/eOzG"})},{name:"is_customer",label:e._({id:"876pfE"}),description:e._({id:"7h6Dth"})}],[]),h=s.useMemo(()=>{const a=o.hasAddRole(n.purchase_order)||o.hasAddRole(n.sales_order);return[t.jsx(T,{tooltip:e._({id:"5blzdE"}),onClick:()=>c.open(),hidden:!a},"add-company")]},[o]),E=s.useCallback(a=>[g({hidden:!o.hasChangeRole(n.purchase_order)&&!o.hasChangeRole(n.sales_order),onClick:()=>{C(a.pk),d.open()}})],[o]);return t.jsxs(t.Fragment,{children:[c.modal,d.modal,t.jsx(M,{url:w(i.company_list),tableState:l,columns:_,props:{params:{...r},onRowClick:(a,z,R)=>{a.pk&&x(`/${u??"company"}/${a.pk}`,b,R)},modelType:p.company,tableFilters:f,tableActions:h,enableDownload:!0,enableSelection:!0,enableReports:!0,rowActions:E}})]})}export{$ as C};
//# sourceMappingURL=CompanyTable-HBSwt2vn.js.map
