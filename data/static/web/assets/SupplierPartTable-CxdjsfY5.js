import{K as T,ag as D,r as l,j as t,ab as e,d as k,ao as p,aO as n,bc as E,an as w}from"./index-DO3Hsv6V.js";import{A as z}from"./ActionButton-B71_UNIq.js";import{Q as C,c as B,m as W,j as N,e as Q}from"./Filter-BvEUIFlz.js";import{u as O,R as U,a as V,I as L}from"./InvenTreeTable-C52lfANx.js";import{I as q}from"./ImportPartWizard-il413wsr.js";import{a as g}from"./CompanyForms-DsVXw3Bg.js";import{u as X}from"./UsePlugins-I0CK0aga.js";import{P as J,D as K,B as G,h as H,L as Z,N as I,C as S}from"./ColumnRenderers-B590lN_v.js";import{am as Y}from"./ThemeContext-CGjWYKat.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M3 21v-13l9 -4l9 4v13",key:"svg-0"}],["path",{d:"M13 13h4v8h-10v-6h6",key:"svg-1"}],["path",{d:"M13 21v-9a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v3",key:"svg-2"}]],ne=T("outline","building-warehouse","BuildingWarehouse",$);function ue({manufacturerId:j,manufacturerPartId:u,partId:s,supplierId:c}){const o=O("supplierparts"),r=D(),A=l.useMemo(()=>[J({switchable:!!s,part:"part_detail"}),{accessor:"supplier",sortable:!0,render:a=>t.jsx(S,{company:a?.supplier_detail})},{accessor:"SKU",title:e._({id:"nne72x"}),sortable:!0},K({}),{accessor:"manufacturer",title:e._({id:"+m9/3S"}),sortable:!0,render:a=>t.jsx(S,{company:a?.manufacturer_detail})},{accessor:"MPN",sortable:!0,title:e._({id:"TOxiOu"}),render:a=>a?.manufacturer_part_detail?.MPN},G({accessor:"active",title:e._({id:"F6pfE9"}),sortable:!0,switchable:!0,defaultVisible:!1}),H({accessor:"in_stock",sortable:!0}),{accessor:"packaging",sortable:!0,defaultVisible:!1},{accessor:"pack_quantity",sortable:!0,render:a=>{const i=a?.part_detail??{},P=[];return i.units&&P.push(t.jsxs(k,{size:"sm",children:[e._({id:"v9F5VO"})," : ",i.units]},"base")),t.jsx(C,{value:a.pack_quantity,extra:P,title:e._({id:"J9LTXQ"})})}},Z({}),I({}),{accessor:"available",sortable:!0,defaultVisible:!1,render:a=>{const i=[];return a.availablility_updated&&i.push(t.jsxs(k,{children:[e._({id:"+b7T3G"})," : ",a.availablility_updated]})),t.jsx(C,{value:a.available,extra:i})}}],[s]),M=g({partId:s}),d=B({url:p.supplier_part_list,title:e._({id:"EREF+D"}),fields:M,initialData:{part:s,supplier:c,manufacturer_part:u},table:o,successMessage:e._({id:"LjPQ/X"})}),m=X("supplier"),_=q({partId:s}),F=l.useMemo(()=>[t.jsx(W,{tooltip:e._({id:"PsAftp"}),onClick:()=>d.open(),hidden:!r.hasAddRole(n.purchase_order)},"add-supplier-part"),t.jsx(z,{icon:t.jsx(Y,{}),color:"green",tooltip:e._({id:"+JWrX4"}),onClick:()=>_.openWizard(),hidden:m.length===0||!r.hasAddRole(n.part)||!s},"import-part")],[r,s,m]),y=l.useMemo(()=>[{name:"active",label:e._({id:"F6pfE9"}),description:e._({id:"fPFpxB"})},{name:"part_active",label:e._({id:"9RQlSP"}),description:e._({id:"AS2E8V"})},{name:"supplier_active",label:e._({id:"2OQxz2"}),description:e._({id:"T+mlMU"})},{name:"has_stock",label:e._({id:"zn38D/"}),description:e._({id:"u22Ntx"})}],[]),b=g({}),[h,f]=l.useState(0),x=N({url:p.supplier_part_list,pk:h,title:e._({id:"qZstuw"}),fields:b,table:o}),v=Q({url:p.supplier_part_list,pk:h,title:e._({id:"9Qoago"}),table:o}),R=l.useCallback(a=>[U({hidden:!r.hasChangeRole(n.purchase_order),onClick:()=>{f(a.pk),x.open()}}),V({hidden:!r.hasDeleteRole(n.purchase_order),onClick:()=>{f(a.pk),v.open()}})],[r,b]);return t.jsxs(t.Fragment,{children:[d.modal,x.modal,v.modal,_.wizard,t.jsx(L,{url:w(p.supplier_part_list),tableState:o,columns:A,props:{params:{manufacturer:j,manufacturer_part:u,supplier:c,part:s,part_detail:!0,supplier_detail:!0,manufacturer_detail:!0},rowActions:R,enableDownload:!0,tableActions:F,tableFilters:y,modelType:E.supplierpart}})]})}export{ne as I,ue as S};
//# sourceMappingURL=SupplierPartTable-CxdjsfY5.js.map
