import{r as o,j as e,S as d,ab as t,aj as i,e as x,an as n,ao as c,av as b,c9 as E}from"./index-DO3Hsv6V.js";import{A as h}from"./ActionButton-B71_UNIq.js";import{F as j}from"./FactCollection-Dx_JKFyW.js";import{G as C}from"./SettingList-DGuKShXN.js";import{u as R,I as y}from"./InvenTreeTable-C52lfANx.js";import{I as A}from"./IconReload-DdIPy2Tn.js";import"./ThemeContext-CGjWYKat.js";import"./DesktopAppView-Bz_M7PvN.js";import"./Filter-BvEUIFlz.js";import"./IconChevronDown-XhYR5VVP.js";import"./index-B0vyf6qM.js";import"./QRCode-D-HsAD7c.js";import"./browser-4FjMziNK.js";import"./IconDotsVertical-B3NOsJOQ.js";import"./IconTags-3mllzNAC.js";function T({setInfo:r}){const s=R("currency","currency"),l=o.useMemo(()=>[{accessor:"currency",title:t._({id:"Q2lUR2"}),switchable:!1},{accessor:"rate",title:t._({id:"fqDzSu"}),switchable:!1}],[]),u=o.useCallback(()=>{x.post(n(c.currency_refresh),{}).then(()=>{s.refreshTable(),b({title:t._({id:"zzDlyQ"}),message:t._({id:"aQFOy1"}),color:"green"})}).catch(a=>{E({error:a,title:t._({id:"OZSHCs"})})})},[]),m=o.useMemo(()=>[e.jsx(h,{onClick:u,tooltip:t._({id:"HQlD/8"}),icon:e.jsx(A,{})},"refresh")],[]);return e.jsx(y,{url:n(c.currency_list),tableState:s,columns:l,props:{tableActions:m,dataFormatter:a=>{r(a);const p=a.exchange_rates??{};return Object.entries(p).map(([f,_])=>({currency:f,rate:_}))}}})}function z(){const[r,s]=o.useState({});return e.jsxs(d,{gap:"xs",children:[e.jsx(j,{items:[{title:t._({id:"h+ZkcR"}),value:r?.updated},{title:t._({id:"3pmGAW"}),value:r?.base_currency}]}),e.jsx(i,{}),e.jsx(T,{setInfo:s}),e.jsx(i,{}),e.jsx(C,{keys:["INVENTREE_DEFAULT_CURRENCY","CURRENCY_UPDATE_PLUGIN","CURRENCY_UPDATE_INTERVAL"]})]})}export{T as CurrencyTable,z as default};
//# sourceMappingURL=CurrencyManagementPanel-2qwpvwH1.js.map
